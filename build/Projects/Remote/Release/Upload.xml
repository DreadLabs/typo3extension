<?xml version="1.0" encoding="UTF-8"?>
<project name="Remote.Release.Upload">

	<target name="remote:release:upload:prepare" depends="remote:setup:new-release-directory, project:compress">
		<echo>Uploading files in progress, please be patient...</echo>

		<resolvepath
			propertyName="release.package"
			file="${build.cache.dir}${release.id}.tar.gz" />
	</target>

	<target name="remote:release:upload:run" depends="remote:release:upload:prepare">
		<seclibsftp
				host="${target.hostname}"
				port="${target.port}"
				username="${target.username}"
				password="${target.password}"
				todir="${target.path}/${target.releases.dir}/${release.id}/"
				file="${release.package}" />

		<echo>Successfully uploaded release ${release.id} to ${target.path}/${target.releases.dir}/${release.id}/</echo>
	</target>
</project>